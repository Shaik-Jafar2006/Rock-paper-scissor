let userscore=0;
let comscore=0;

const choices=document.querySelectorAll(".choice");
const msg=document.querySelector("#msg");
 const userscorepara=document.querySelector("#user-score");
 const compscorepara=document.querySelector("#com-score");

const getcompchoice= () =>{
    const options=["rock","paper","scissor"];
    const randomi=Math.floor(Math.random()*3)
    return options[randomi];
}



    const drawGame = () => {
        console.log("game is draw.");
        msg.innerText="Game Draw.Play again"
        msg.style.backgroundColor="white";
    }

    const showWinner=(userwin, userchoice ,compchoice) =>{
        if (userwin){
           userscore++
           userscorepara.innerText=userscore;
         msg.innerText=`You win! Your ${userchoice} beats ${compchoice}`;
         msg.style.backgroundColor="green";
        }else{
            comscore++
            compscorepara.innerText=comscore;
            msg.innerText=`You lose! ${compchoice} beats your ${userchoice}`;
            msg.style.backgroundColor="red";
        }
    }

const playgame=(userchoice)=>{
    console.log("userchoice =" , userchoice)
  const compchoice= getcompchoice();
    console.log("compchoice =" , compchoice);

    if(userchoice === compchoice) {
     drawGame();
    }else{
        let userwin = true;
        if(userchoice==="rock"){
            userwin=compchoice==="paper" ? false :true;
        }else if(userchoice==="paper"){
            userwin=compchoice=== "scissors"? false:true;
        }else{
        userchoice=compchoice==="rock" ?false:true;
        }
            showWinner(userwin ,userchoice ,compchoice);
    }
};

choices.forEach((choice)=>{
    console.log(choice);
   choice.addEventListener("click" ,() => {
    const userchoice=choice.getAttribute("id")
   playgame(userchoice);
   })
   
})